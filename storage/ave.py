import matplotlib.pyplot as plt
import numpy as np
import statistics
import math

steps = [40, 84, 60, 53, 63, 90, 102, 57, 51, 55, 63, 49, 40, 61, 43, 68, 63, 65, 47, 80, 42, 33, 62, 35, 51, 43, 41, 41, 32, 5, 83, 44, 92, 39, 45, 55, 100, 53, 197, 71, 76, 79, 145, 51, 23, 87, 61, 63, 45, 128, 45, 148, 59, 5, 59, 46, 64, 68, 130, 121, 92, 57, 67, 57, 163, 150, 51, 61, 47, 55, 72, 31, 97, 47, 59, 111, 81, 59, 75, 36, 37, 24, 57, 49, 66, 55, 44, 50, 51, 49, 46, 57, 57, 122, 49, 79, 57, 62, 69, 51]

steps2 = [216, 214, 238, 218, 211, 208, 228, 216, 215, 211, 215, 222, 221, 212, 209, 209, 213, 220, 228, 219, 224, 218, 230, 231, 221, 230, 218, 206, 215, 219, 224, 209, 212, 222, 219, 219, 212, 219, 223, 225, 215, 220, 213, 214, 217, 224, 224, 223, 210, 213, 225, 221, 215, 217, 212, 206, 213, 220, 212, 224, 210, 225, 218, 221, 216, 206, 220, 212, 217, 230, 218, 213, 213, 216, 217, 211, 219, 205, 207, 204, 220, 223, 221, 224, 225, 215, 214, 215, 232, 208, 204, 206, 218, 220, 223, 220, 217, 217, 219, 213]






steps = [72, 45, 45, 88, 72, 114, 102, 45, 94, 45, 114, 45, 81, 105, 67, 45, 72, 27, 45, 45, 45, 45, 45, 67, 45, 109, 45, 148, 27, 45, 45, 45, 72, 45, 81, 47, 72, 45, 45, 45, 45, 101, 45, 45, 45, 45, 45, 72, 72, 45, 45, 72, 72, 45, 62, 45, 45, 107, 45, 45, 45, 45, 45, 88, 58, 72, 72, 45, 194, 45, 72, 72, 45, 45, 62, 219, 45, 66, 72, 47, 45, 45, 87, 45, 45, 45, 45, 45, 109, 45, 45, 72, 27, 151, 45, 45, 66, 109, 45, 67]
steps2 = [178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178]


"lbm-dijkstra"
steps = [189, 200, 359, 30, 133, 165, 224, 349, 221, 281, 113, 185, 589, 296, 311, 89, 118, 100, 29, 148, 155, 429, 128, 343, 166, 692, 151, 182, 587, 402, 207, 220, 665, 174, 223, 276, 89, 661, 301, 199, 195, 167, 183, 154, 116, 337, 208, 145, 230, 233, 570, 197, 195, 138, 329, 200, 26, 584, 28, 341, 203, 573, 233, 529, 120, 202, 298, 576, 216, 692, 315, 192, 198, 33, 198, 353, 253, 388, 203, 355, 154, 304, 191, 471, 368, 169, 362, 353, 27, 452, 158, 170, 802, 116, 260, 460, 925, 427, 401, 30]
steps2 = [797, 809, 830, 797, 806, 827, 826, 811, 813, 812, 799, 792, 815, 804, 815, 806, 816, 808, 808, 800, 817, 810, 837, 826, 835, 803, 817, 808, 817, 818, 805, 829, 831, 818, 827, 806, 816, 810, 803, 785, 818, 826, 791, 844, 800, 842, 818, 819, 807, 825, 810, 812, 841, 798, 834, 835, 815, 829, 830, 829, 807, 828, 819, 804, 809, 805, 821, 812, 839, 848, 805, 799, 821, 805, 832, 789, 798, 809, 817, 843, 844, 812, 790, 827, 815, 825, 822, 818, 823, 803, 814, 801, 836, 782, 804, 827, 810, 802, 816, 805]


r = range(0, 100)
# plt.plot(steps, 'r-', steps, 'k.', label = "Number of Steps - proposal")
# plt.plot(steps2, 'b-', steps2, 'k.', label = "Number of Steps - conventional")
plt.bar(r, steps, label = "Number of Steps - proposal", alpha = 0.8, color = "r")
plt.bar(r, steps2, label = "Number of Steps - conventional", alpha = 0.5, color = "b")
plt.grid(axis='y',linestyle='dotted', color='g')
plt.plot([0, 100], [0, 0], color="g")
plt.xlabel("Number of trials", fontsize = 14)
plt.ylabel("Steps", fontsize = 14)
plt.legend()
plt.show()

x = np.array(steps)
y = np.array(steps2)
print("平均:", np.mean(x))
# mode = statistics.mode(x) # 最頻値
# print(mode)

print("最大:", max(x))
print("最小:", min(x))

# pstdev = statistics.pstdev(x)
# print(pstdev)

pvariance = statistics.pvariance(x)
print("分散:", pvariance)

var = np.var(x)
print("分散:", var)

std = np.std(x)
print("標準偏差(分散):", std)

std2 = np.std(y)
print("標準偏差(分散):", std2)

# plt.bar([0, 1], steps, label = "reach rate", alpha = 0.8, color = "r", yerr=std, ecolor="black", capsize=10)
# plt.show()
plt.bar(["proposal", "conventional"], [np.mean(x), np.mean(y)], label = "Average Steps", alpha = 0.8, color = ["r", "b"], yerr=[std, std2], ecolor="black", capsize=10)
plt.legend()
plt.show()

# fig = plt.figure()
# ax = fig.add_subplot(111)
# ax.violinplot([x, y], showmedians=True)
# ax.set_xticks([1,2])
# ax.set_xticklabels(['wakuwaku', 'mogumogu'])

# plt.show()